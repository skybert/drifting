<!DOCTYPE html PUBLIC
"-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"
>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      >
  <h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>JEEky :: in here be Indians</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="http://skybert.net/theme/styles/skybert.css"/>
  </h:head>

  <h:body>

    <h1>JEEky :: in here be Indians</h1>

    <ui:fragment rendered="#{indian.id eq null}">
      <h:form>
        <p>
          <h:outputLabel value="Name:" for="name"/>
          <h:inputText
            id="name"
            value="#{indian.name}"
            required="true"
            requiredMessage="An indian must have a name, ugh!"
            />
          <h:message for="name" showDetail="true"/>
          &nbsp;
          <h:outputLabel value="Age:" for="age"/>
          <h:inputText
            id="age"
            value="#{indian.age}"
            />
          <h:message for="age" showDetail="true"/>
          &nbsp;
          <h:outputLabel value="Tribe:" for="tribe"/>
          <h:selectOneMenu
            id="tribe"
            value="#{indian.tribe}"
            converter="#{tribeConverter}"
            >
            <f:selectItems
              value="#{allTribes}"
              var="tribe"
              itemValue="#{tribe}"
              itemLabel="#{tribe.name}"/>
          </h:selectOneMenu>
          <h:message for="tribe" showDetail="true"/>
        </p>
        <p>
          <h:commandButton
            id="save"
            value="Save"
            action="#{indianEntry.create}"
            />
        </p>
      </h:form>
    </ui:fragment>

    <h2>Indians gathered here</h2>


    <h:dataTable value="#{allIndians}" var="anIndian">
      <h:column>
        <f:facet name="header">Indian name</f:facet>
        #{anIndian.name}
      </h:column>
      <h:column>
        <f:facet name="header">Tribe</f:facet>
        #{anIndian.tribe.name}
      </h:column>
    </h:dataTable>
  </h:body>

</html>
